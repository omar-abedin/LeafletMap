geodata <- read.csv(file = "500CitiesCancer.csv",
                    header = TRUE, 
                    sep = "," )

data <- subset(geodata, select = c("cityName", "data_Value_cancer","cityFIPS_rough","populationCountTotal","state","precetnagePopulationCancer","geoLocationLat", "geoLocationLng"))

colnames(data) <- c("cityName", "data_Value_cancer","cityFIPS_rough","populationCountTotal","state","precetnagePopulationCancer","geoLocationLat", "geoLocationLng")

data$popsep <- format(data$populationCountTotal, scientific=FALSE)
data$metropop <- do.call(paste, c(data[c("cityName", "populationCountTotal","precetnagePopulationCancer")], sep = ", "))

my_map <- data %>%
        leaflet() %>%
        addTiles() %>%
        setView(lng = -95.7129, lat = 37.0902, zoom = 4) %>%

        addMarkers(clusterOptions = markerClusterOptions(), 
                   popup = strwrap(data$metropop), 
                   lng = (data$geoLocationLng), 
                   lat = (data$geoLocationLat))%>% 
        addTiles()

my_map
